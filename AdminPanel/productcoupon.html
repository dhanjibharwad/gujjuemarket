<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,sans-serif;background:#f5f5f5;padding:20px}
.container{max-width:1400px;margin:0 auto;background:#fff;border-radius:12px;padding:32px}
h2{margin-bottom:24px;color:#1d1d1f;font-size:24px}
.form-group{margin-bottom:20px}
label{display:block;margin-bottom:8px;color:#1d1d1f;font-size:14px;font-weight:500}
input,select{width:100%;padding:12px 16px;border:1px solid #d2d2d7;border-radius:8px;font-size:14px;background:#fff;outline:0}
select{cursor:pointer}
.date-group{display:grid;grid-template-columns:1fr 1fr;gap:16px}
.radio-group{display:flex;gap:24px;margin-top:8px}
.radio-option{display:flex;align-items:center;gap:8px;cursor:pointer}
.radio-option input{width:18px;height:18px;cursor:pointer}
.radio-option label{margin:0;cursor:pointer}
.toggle{position:relative;width:44px;height:24px;background:#d2d2d7;border-radius:12px;cursor:pointer;transition:.3s;display:inline-block}
.toggle.active{background:#FF6B35}
.toggle::after{content:'';position:absolute;width:20px;height:20px;border-radius:50%;background:#fff;top:2px;left:2px;transition:.3s}
.toggle.active::after{left:22px}
.btn{padding:10px 20px;border:0;border-radius:8px;cursor:pointer;font-size:14px;font-weight:500;transition:.2s}
.btn-primary{background:#FF6B35;color:#fff}
.btn-primary:hover{background:#e55a2b}
.btn-secondary{background:#fff;border:1px solid #d2d2d7;color:#1d1d1f;margin-right:12px}
.btn-secondary:hover{background:#f5f5f7}
.form-actions{display:flex;justify-content:flex-end;margin-top:32px}
.custom-select{position:relative}
.custom-select select{display:none}
.select-selected{padding:12px 16px;border:1px solid #d2d2d7;border-radius:8px;font-size:14px;cursor:pointer;background:#fff url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12'%3E%3Cpath fill='%235e5873' d='M6 9L1 4h10z'/%3E%3C/svg%3E") no-repeat right 16px center;color:#1d1d1f}
.select-items{position:absolute;background:#fff;border:1px solid #d2d2d7;border-radius:8px;box-shadow:0 4px 16px rgba(0,0,0,.12);z-index:99;width:100%;max-height:280px;overflow-y:auto;display:none;margin-top:4px}
.select-items.show{display:block}
.select-search-wrapper{padding:12px;border-bottom:1px solid #e8e8e8;background:#fafafa}
.select-search{padding:10px 12px;border:1px solid #d2d2d7;border-radius:6px;width:100%;font-size:14px;outline:0}
.select-search:focus{border-color:#FF6B35;box-shadow:0 0 0 3px rgba(255,107,53,.1)}
.select-item{padding:10px 12px;cursor:pointer;font-size:14px;color:#1d1d1f}
.select-item:hover{background:#f5f5f5}
</style>
</head>
<body>
    <div class="container">
        <h2>Product Coupon</h2>
        <form id="couponForm">
            <div class="form-group">
                <label for="product">Select Product</label>
                <div class="custom-select">
                    <select id="product" name="product">
                        <option value="">Select Product</option>
                        <option value="air-jordan">Air Jordan</option>
                        <option value="amazon-fire-tv">Amazon Fire TV</option>
                        <option value="apple-ipad">Apple iPad</option>
                        <option value="apple-watch">Apple Watch Series 7</option>
                        <option value="bange-backpack">BANGE Anti Theft Backpack</option>
                        <option value="canon-eos">Canon EOS Rebel T7</option>
                        <option value="dohioue-clock">Dohioue Wall Clock</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label for="couponTitle">Coupon Title</label>
                <input type="text" id="couponTitle" placeholder="Enter coupon title">
            </div>

            <div class="form-group">
                <label>Validity Period</label>
                <div class="date-group">
                    <div>
                        <input type="date" id="startDate" min="">
                    </div>
                    <div>
                        <input type="date" id="endDate" min="">
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label for="budget">Budget</label>
                <input type="number" id="budget" placeholder="Enter budget amount">
            </div>

            <div class="form-group">
                <label>Status</label>
                <div class="toggle" id="statusToggle" onclick="this.classList.toggle('active')"></div>
                <span id="statusLabel" style="margin-left: 12px; color: #86868b; font-size: 14px;">Inactive</span>
            </div>

            <div class="form-group">
                <label>Select Type</label>
                <div class="radio-group">
                    <div class="radio-option">
                        <input type="radio" id="percentage" name="couponType" value="percentage" checked>
                        <label for="percentage">Percentage</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="price" name="couponType" value="price">
                        <label for="price">Price</label>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label for="typeValue">Enter Type Value</label>
                <input type="text" id="typeValue" placeholder="Enter value">
            </div>

            <div class="form-actions">
                <button type="button" class="btn btn-secondary">Cancel</button>
                <button type="submit" class="btn btn-primary">Save Coupon</button>
            </div>
        </form>
    </div>

    <script>
        // Custom Searchable Dropdown
        document.querySelectorAll('.custom-select').forEach(customSelect => {
            const select = customSelect.querySelector('select');
            const selected = document.createElement('div');
            selected.className = 'select-selected';
            selected.textContent = select.options[0].text;
            customSelect.appendChild(selected);

            const itemsDiv = document.createElement('div');
            itemsDiv.className = 'select-items';
            
            const searchWrapper = document.createElement('div');
            searchWrapper.className = 'select-search-wrapper';
            const searchInput = document.createElement('input');
            searchInput.type = 'text';
            searchInput.className = 'select-search';
            searchInput.placeholder = 'Search...';
            searchWrapper.appendChild(searchInput);
            itemsDiv.appendChild(searchWrapper);

            for (let i = 1; i < select.options.length; i++) {
                const item = document.createElement('div');
                item.className = 'select-item';
                item.textContent = select.options[i].text;
                item.dataset.value = select.options[i].value;
                itemsDiv.appendChild(item);
            }
            customSelect.appendChild(itemsDiv);

            selected.addEventListener('click', (e) => {
                e.stopPropagation();
                document.querySelectorAll('.select-items').forEach(el => {
                    if (el !== itemsDiv) el.classList.remove('show');
                });
                itemsDiv.classList.toggle('show');
                if (itemsDiv.classList.contains('show')) searchInput.focus();
            });

            searchInput.addEventListener('input', function() {
                const filter = this.value.toLowerCase();
                itemsDiv.querySelectorAll('.select-item').forEach(item => {
                    item.style.display = item.textContent.toLowerCase().includes(filter) ? 'block' : 'none';
                });
            });

            itemsDiv.querySelectorAll('.select-item').forEach(item => {
                item.addEventListener('click', function() {
                    select.value = this.dataset.value;
                    selected.textContent = this.textContent;
                    itemsDiv.classList.remove('show');
                    searchInput.value = '';
                    itemsDiv.querySelectorAll('.select-item').forEach(i => i.style.display = 'block');
                });
            });
        });

        document.addEventListener('click', () => {
            document.querySelectorAll('.select-items').forEach(el => el.classList.remove('show'));
        });

        // Set minimum date to today for date inputs
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('startDate').setAttribute('min', today);
        document.getElementById('endDate').setAttribute('min', today);

        // Update end date minimum when start date changes
        document.getElementById('startDate').addEventListener('change', function() {
            document.getElementById('endDate').setAttribute('min', this.value || today);
        });

        const statusToggle = document.getElementById('statusToggle');
        const statusLabel = document.getElementById('statusLabel');

        statusToggle.addEventListener('click', function() {
            statusLabel.textContent = this.classList.contains('active') ? 'Active' : 'Inactive';
        });

        document.getElementById('couponForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = {
                product: document.getElementById('product').value,
                couponTitle: document.getElementById('couponTitle').value,
                startDate: document.getElementById('startDate').value,
                endDate: document.getElementById('endDate').value,
                budget: document.getElementById('budget').value,
                status: statusToggle.classList.contains('active') ? 'Active' : 'Inactive',
                type: document.querySelector('input[name="couponType"]:checked').value,
                typeValue: document.getElementById('typeValue').value
            };

            console.log('Coupon Data:', formData);
            alert('Coupon saved successfully!');
        });
    </script>
